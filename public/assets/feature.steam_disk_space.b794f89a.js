(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{351:function(e,t,a){"use strict";a.r(t);var n=a(4),i=a.n(n),o=a(1),r=a(0),c=a.n(r),s=a(3),l=a(29),m=a(6),d=a(17),p=a(13),u=a(45),f=a(5),S=Object(o.c)(d.a).withConfig({displayName:"SteamDiskSpaceFeature___StyledFlashMessageRender",componentId:"sc-1ak76ba-0"})({marginBottom:"1rem"}),h=o.c.div.withConfig({displayName:"SteamDiskSpaceFeature___StyledDiv",componentId:"sc-1ak76ba-1"})({marginTop:"1rem",alignItems:"center","@media (min-width: 640px)":{display:"flex"}}),g=o.c.h2.withConfig({displayName:"SteamDiskSpaceFeature___StyledH",componentId:"sc-1ak76ba-2"})({fontSize:"1.5rem",lineHeight:"2rem",marginBottom:"1rem","--tw-text-opacity":"1",color:"rgba(228.60750000000002, 231.591, 235.4925, var(--tw-text-opacity))"}),b=o.c.p.withConfig({displayName:"SteamDiskSpaceFeature___StyledP",componentId:"sc-1ak76ba-3"})({marginTop:"1rem"}),k=o.c.p.withConfig({displayName:"SteamDiskSpaceFeature___StyledP2",componentId:"sc-1ak76ba-4"})({marginTop:"1rem"}),y=o.c.code.withConfig({displayName:"SteamDiskSpaceFeature___StyledCode",componentId:"sc-1ak76ba-5"})({fontFamily:'"IBM Plex Mono", "Source Code Pro", SourceCodePro, Menlo, Monaco, Consolas, monospace',"--tw-bg-opacity":"1",backgroundColor:"rgba(31.008000000000003, 40.8, 50.592, var(--tw-bg-opacity))",borderRadius:"0.25rem",paddingTop:"0.25rem",paddingBottom:"0.25rem",paddingLeft:"0.5rem",paddingRight:"0.5rem"}),_=o.c.div.withConfig({displayName:"SteamDiskSpaceFeature___StyledDiv2",componentId:"sc-1ak76ba-6"})({marginTop:"2rem",alignItems:"center",justifyContent:"flex-end","@media (min-width: 640px)":{display:"flex"}}),w=Object(o.c)(m.b).withConfig({displayName:"SteamDiskSpaceFeature___StyledButton",componentId:"sc-1ak76ba-7"})({width:"100%",borderColor:"transparent","@media (min-width: 640px)":{width:"auto"}}),C=o.c.div.withConfig({displayName:"SteamDiskSpaceFeature___StyledDiv3",componentId:"sc-1ak76ba-8"})({marginTop:"1rem",alignItems:"center","@media (min-width: 640px)":{display:"flex"}}),v=o.c.h2.withConfig({displayName:"SteamDiskSpaceFeature___StyledH2",componentId:"sc-1ak76ba-9"})({fontSize:"1.5rem",lineHeight:"2rem",marginBottom:"1rem","--tw-text-opacity":"1",color:"rgba(228.60750000000002, 231.591, 235.4925, var(--tw-text-opacity))"}),D=o.c.p.withConfig({displayName:"SteamDiskSpaceFeature___StyledP3",componentId:"sc-1ak76ba-10"})({marginTop:"1rem"}),E=o.c.div.withConfig({displayName:"SteamDiskSpaceFeature___StyledDiv4",componentId:"sc-1ak76ba-11"})({marginTop:"2rem",alignItems:"center",justifyContent:"flex-end","@media (min-width: 640px)":{display:"flex"}}),O=Object(o.c)(m.b).withConfig({displayName:"SteamDiskSpaceFeature___StyledButton2",componentId:"sc-1ak76ba-12"})({width:"100%",borderColor:"transparent","@media (min-width: 640px)":{width:"auto"}});t.default=function(){var e=Object(r.useState)(!1),t=i()(e,2),a=t[0],n=t[1],o=Object(r.useState)(!1),m=i()(o,1)[0],d=s.a.useStoreState((function(e){return e.status.value})),x=Object(p.a)().clearFlashes,F=s.a.useStoreState((function(e){return e.socket})),I=F.connected,N=F.instance,T=Object(f.useStoreState)((function(e){return e.user.data.rootAdmin}));return Object(r.useEffect)((function(){if(I&&N&&"running"!==d){var e=["steamcmd needs 250mb of free disk space to update","0x202 after update job"],t=function(t){e.some((function(e){return t.toLowerCase().includes(e)}))&&n(!0)};return N.addListener(u.a.CONSOLE_OUTPUT,t),function(){N.removeListener(u.a.CONSOLE_OUTPUT,t)}}}),[I,N,d]),Object(r.useEffect)((function(){x("feature:steamDiskSpace")}),[]),c.a.createElement(l.b,{visible:a,onDismissed:function(){return n(!1)},closeOnBackground:!1,showSpinnerOverlay:m},c.a.createElement(S,{key:"feature:steamDiskSpace"}),T?c.a.createElement(c.a.Fragment,null,c.a.createElement(h,null,c.a.createElement(g,null,"Out of available disk space...")),c.a.createElement(b,null,"This server has run out of available disk space and cannot complete the install or update process."),c.a.createElement(k,null,"Ensure the machine has enough disk space by typing ",c.a.createElement(y,null,"df -h")," on the machine hosting this server. Delete files or increase the available disk space to resolve the issue."),c.a.createElement(_,null,c.a.createElement(w,{onClick:function(){return n(!1)}},"Close"))):c.a.createElement(c.a.Fragment,null,c.a.createElement(C,null,c.a.createElement(v,null,"Out of available disk space...")),c.a.createElement(D,null,"This server has run out of available disk space and cannot complete the install or update process. Please get in touch with the administrator(s) and inform them of disk space issues."),c.a.createElement(E,null,c.a.createElement(O,{onClick:function(){return n(!1)}},"Close"))))}}}]);